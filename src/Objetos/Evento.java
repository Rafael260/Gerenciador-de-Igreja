package Objetos;
// Generated 03/06/2016 10:35:37 by Hibernate Tools 4.3.1


import Util.HibernateUtil;
import Util.Returner;
import java.util.ArrayList;
import java.util.HashSet;
import java.util.List;
import java.util.Set;

/**
 * Evento generated by hbm2java
 */
public class Evento  implements java.io.Serializable {


     private EventoId id;
     private String publicoAlvo;
     private String tipo;
     private Set ministracoes = new HashSet(0);
     private Set visitantes = new HashSet(0);
     private Set noticias = new HashSet(0);

    public Evento() {
    }

	
    public Evento(EventoId id, String tipo) {
        this.id = id;
        this.tipo = tipo;
    }
    public Evento(EventoId id, String publicoAlvo, String tipo, Set ministracaos, Set visitantes, Set noticias) {
       this.id = id;
       this.publicoAlvo = publicoAlvo;
       this.tipo = tipo;
       this.ministracoes = ministracaos;
       this.visitantes = visitantes;
       this.noticias = noticias;
    }
   
    public EventoId getId() {
        return this.id;
    }
    
    public void setId(EventoId id) {
        this.id = id;
    }
    public String getPublicoAlvo() {
        return this.publicoAlvo;
    }
    
    public void setPublicoAlvo(String publicoAlvo) {
        this.publicoAlvo = publicoAlvo;
    }
    public String getTipo() {
        return this.tipo;
    }
    
    public void setTipo(String tipo) {
        this.tipo = tipo;
    }
    public Set getMinistracoes() {
        return this.ministracoes;
    }
    
    public void setMinistracoes(Set ministracaos) {
        this.ministracoes = ministracaos;
    }
    public Set getVisitantes() {
        return this.visitantes;
    }
    
    public void setVisitantes(Set visitantes) {
        this.visitantes = visitantes;
    }
    public Set getNoticias() {
        return this.noticias;
    }
    
    public void setNoticias(Set noticias) {
        this.noticias = noticias;
    }
    
    public static List<Evento> listarTodos(){
        List objects = HibernateUtil.getTuplasDaTabela("evento");
        Returner<Evento> returner = new Returner();
        return returner.getListaEspecifica(objects);
    }

    public void adicionarVisitante(Pessoa pessoa){
        Visitante visitante = new Visitante(pessoa);
        List<String> parametros = new ArrayList<>();
        parametros.add(""+visitante.getId());
        //Parâmetros do banco que se referem à Strings ou chars, precisam de aspas simples
        parametros.add("'"+this.id.getDiaHora()+"'");
        parametros.add("'"+this.id.getTema()+"'");
        HibernateUtil.insertInto("visita_evento", parametros);
    }

    //Criado por Rafael em 01/06
    //Verificar exception
    public void adicionarVisitante(Visitante visitante){
        List<String> parametros = new ArrayList<>();
        parametros.add(""+visitante.getId());
        //Parâmetros do banco que se referem à Strings ou chars, precisam de aspas simples
        parametros.add("'"+this.id.getDiaHora()+"'");
        parametros.add("'"+this.id.getTema()+"'");
        HibernateUtil.insertInto("visita_evento", parametros);
    }

    public void cadastrarMinistracao(Pessoa pessoa, Mensagem mensagem){
        Ministracao ministracao = new Ministracao(new MinistracaoId(this.getId().getTema(),this.getId().getDiaHora(),mensagem.getTitulo()),this,mensagem,pessoa);
        HibernateUtil.persistirObjeto(ministracao);
    }

    public void cadastrarMinistracao(Ministracao ministracao){
        HibernateUtil.persistirObjeto(ministracao);
    }


}



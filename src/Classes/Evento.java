package Classes;
// Generated 28/05/2016 22:16:45 by Hibernate Tools 4.3.1


import Util.HibernateUtil;
import Util.MinistraDao;
import java.util.ArrayList;
import java.util.HashSet;
import java.util.List;
import java.util.Set;

/**
 * Evento generated by hbm2java
 */
public class Evento  implements java.io.Serializable {
     private EventoId id;
     private String publicoAlvo;
     private String tipo;
     private Set ministras = new HashSet(0);
     private Set visitantes = new HashSet(0);
     private Set noticias = new HashSet(0);
     private MinistraDao ministraDao;

    public Evento() {
        this.ministraDao = new MinistraDao();
    }

	
    public Evento(EventoId id, String tipo) {
        this.id = id;
        this.tipo = tipo;
        this.ministraDao = new MinistraDao();
    }
    public Evento(EventoId id, String publicoAlvo, String tipo, Set ministras, Set visitantes, Set noticias) {
       this.id = id;
       this.publicoAlvo = publicoAlvo;
       this.tipo = tipo;
       this.ministras = ministras;
       this.visitantes = visitantes;
       this.noticias = noticias;
       this.ministraDao = new MinistraDao();
    }
   
    public EventoId getId() {
        return this.id;
    }
    
    public void setId(EventoId id) {
        this.id = id;
    }
    public String getPublicoAlvo() {
        return this.publicoAlvo;
    }
    
    public void setPublicoAlvo(String publicoAlvo) {
        this.publicoAlvo = publicoAlvo;
    }
    public String getTipo() {
        return this.tipo;
    }
    
    public void setTipo(String tipo) {
        this.tipo = tipo;
    }
    public Set getMinistras() {
        return this.ministras;
    }
    
    public void setMinistras(Set ministras) {
        this.ministras = ministras;
    }
    public Set getVisitantes() {
        return this.visitantes;
    }
    
    public void setVisitantes(Set visitantes) {
        this.visitantes = visitantes;
    }
    public Set getNoticias() {
        return this.noticias;
    }
    
    public void setNoticias(Set noticias) {
        this.noticias = noticias;
    }
    
    public void adicionarVisitante(Pessoa pessoa){
        adicionarVisitante(new Visitante(pessoa));
    }
            
    //Criado por Rafael em 01/06
    //Verificar exception
    public void adicionarVisitante(Visitante visitante){
        List<String> parametros = new ArrayList<>();
        parametros.add(""+visitante.getId());
        //Parâmetros do banco que se referem à Strings ou chars, precisam de aspas simples
        parametros.add("'"+this.id.getDiaHora()+"'");
        parametros.add("'"+this.id.getTema()+"'");
        HibernateUtil.insertInto("visita_evento", parametros);
    }
    
    public void cadastrarMinistracao(Pessoa pessoa, Mensagem mensagem){
        cadastrarMinistracao(new Ministra(new MinistraId(this.getId().getTema(),this.getId().getDiaHora(),mensagem.getTitulo()),this,mensagem,pessoa));
    }
    
    public void cadastrarMinistracao(Ministra ministracao){
        ministraDao.gravar(ministracao);
    }




}


